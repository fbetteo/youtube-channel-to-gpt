Video Title: I Built the Ultimate Browser Agent with No Code (n8n + Airtop)
Video ID: ar37oypyATQ
URL: https://www.youtube.com/watch?v=ar37oypyATQ
View Count: 41,156

[00:00] This AI agent can use a computer just
[00:02] like a human would. As you can see, if
[00:03] we take a look at its browser tools, it
[00:05] can start up a browser. It can click,
[00:07] type, query, load windows, and also end
[00:10] those sessions. So, the whole point of
[00:12] this agent is to take web actions with
[00:14] completely natural language. Let's hop
[00:15] into a quick demo so I can show you guys
[00:17] what I mean by that, and then we'll
[00:18] break down how this agent works. So,
[00:20] what I'm going to do here is ask this
[00:21] agent to find posts on X about Google
[00:23] V3. So, I wanted to move over our agent
[00:25] because what it's going to do real quick
[00:26] is it's going to use its start browser
[00:28] tool to spin up a browser in airtop. And
[00:31] when it does that, it's going to give us
[00:32] a link in our Slack where we can
[00:34] actually click onto that and we can
[00:35] watch the agent move around in a
[00:37] browser. So, it's going to be really
[00:38] cool. So, now that that browser has
[00:39] started, we got the link and it's going
[00:41] to load up that session and then we're
[00:42] going to be able to watch the agent
[00:43] actually do things. So, right here you
[00:45] can see that it's using its type tool.
[00:47] So, it's probably going to move its
[00:48] mouse all the way up here, click on the
[00:50] search bar, and then type in Google V3,
[00:53] and then it will hit enter. So, we can
[00:54] search for Google
[00:56] V3. As you can see, there goes the
[00:58] mouse. We're going to click onto it.
[01:00] It's typing Google V3, and bam, now we
[01:02] are searching X. And if you guys will
[01:04] notice, I'm actually logged in down here
[01:06] in the bottom left. You can tell I'm
[01:08] logged into one of my Twitter accounts.
[01:09] So, that means that even if you need to
[01:11] be on a site where you have
[01:13] authentication, you can still automate
[01:14] that with AirTop. And already the
[01:17] browser is being ended right now because
[01:18] we already got our results back. Okay,
[01:21] so let's see what our agent comes up
[01:22] with after it was able to search X. So
[01:24] here's what the agent came up with based
[01:26] on search results from X. Here's what I
[01:28] found about Google V3. Found latest
[01:30] features. V3 now includes native audio
[01:32] generation capabilities. We found
[01:34] availability and reception. It's
[01:36] released in 73 countries through the
[01:37] Gemini app. And finally, we found
[01:39] technical notes. It builds upon previous
[01:41] V2 capabilities. All right, so hopefully
[01:43] that gives you guys a taste of what a
[01:45] browser agent can do, we're going to
[01:46] break down how this build works. I know
[01:48] it may seem a little complicated, but
[01:50] trust me, it's really easy. All we have
[01:52] to do is use natural language. So, let's
[01:53] break it down. But before we do that,
[01:55] real quick, if you want to download this
[01:56] template for free so you can follow
[01:58] along with the rest of the video, all
[01:59] you have to do is join my free school
[02:00] community. The link for that is down in
[02:02] the description. You will have to come
[02:03] in here, search for the title of this
[02:05] video, or you can click on YouTube
[02:06] resources and find the post associated
[02:08] with this video. Once you click on that
[02:11] post, you'll see a JSON file right here
[02:12] to download which once you download it,
[02:14] you can import that into NIN and you'll
[02:16] have this exact template right here. And
[02:18] then all you have to do is plug in a few
[02:20] credentials and you'll be good to go.
[02:21] All right, so let me explain how this
[02:22] works at a high level. We have an AI
[02:24] agent that has the ability to start up a
[02:26] browser. Once it starts up that browser,
[02:28] it can then click in it, type in it,
[02:31] look at it, load different windows, and
[02:33] then it has to end the session at the
[02:34] end. So, the way that it's actually able
[02:36] to spin up these browsers is through
[02:38] something called Airtop, which are these
[02:39] nodes right here. And Airtop lets you
[02:41] automate the web with just your words.
[02:43] You can go ahead and sign up for free
[02:45] using the link in the description. And
[02:46] then you can also get 50% off for 3
[02:48] months using code Nate half off, which
[02:50] will also be in the description. And the
[02:52] cool thing about AirTop is if you click
[02:54] on automations and you go down here to
[02:55] Nitn, there are so many Airtop templates
[02:58] already out there for doing things like
[03:00] commenting on X posts, building a list
[03:02] of profiles, extracting information from
[03:05] LinkedIn profiles. There's so many
[03:06] different use cases for browser
[03:08] automation. Anyways, let's start to
[03:10] break down this workflow a little bit.
[03:11] First thing I'm going to do is just
[03:12] click into the system prompt and show
[03:14] you guys how simple this is. So, the
[03:16] overview is that you are a smart
[03:17] advanced web agent and you have tools
[03:19] that let you control a remote web
[03:20] browser. Your primary goal is to fulfill
[03:22] the human's request and you're able to
[03:24] do that by using the different tools
[03:26] that you have. So then the next thing I
[03:28] did was I gave it its tools. So it has
[03:30] the ability to start a browser which I
[03:32] said always begin with this tool. It
[03:34] returns a session ID and a window ID
[03:36] which are required for the other tools
[03:38] because other tools like click or type
[03:40] have to know okay which actual browser
[03:42] am I clicking or typing in. You also
[03:44] have the tool to load a URL which loads
[03:46] a website in the browser window. You
[03:48] have a tool called query which basically
[03:49] lets you scan the browser and you can
[03:51] extract information like where's the
[03:53] search bar or what's the menu options or
[03:55] you know any information that you need
[03:57] to retrieve like our xosts. You have a
[03:59] tool called click which you use to click
[04:01] on certain elements like buttons. You
[04:03] have the tool called type which lets you
[04:05] type into visible input fields like
[04:07] search bars and it also automatically
[04:09] hits enter after you're done typing. You
[04:11] have a tool to end the session which
[04:12] must be used every single time before
[04:15] you respond to the human because we want
[04:16] to turn off that browser session in
[04:18] airtop. And then we gave it access to
[04:20] the think tool which lets it think and
[04:22] reflect on what it's done and what it
[04:23] still needs to do which I found be
[04:25] really helpful for browser automation.
[04:28] And then I gave it a few tips that are
[04:29] important like always think step by
[04:31] step. Use the query whenever you're
[04:32] unsure of what's on the screen and
[04:34] you'll never need to log in. All right.
[04:36] So let's just start off by looking at
[04:37] that start browser tool. So you guys
[04:39] will notice that this is not an airtop
[04:41] node. This is an end workflow tool that
[04:43] we configured ourselves. So I'm just
[04:45] going to scroll over over here and this
[04:48] is the actual start browser tool. So let
[04:50] me just drag this over here so we're
[04:51] looking at everything in one clean
[04:53] screen. So when the browser agent calls
[04:56] this tool to start a browser, it
[04:58] actually goes through this flow to start
[04:59] that browser. So what I'm going to do
[05:01] real quick is pull up the execution from
[05:02] that live demo we just did and we'll see
[05:05] how it started up the browser. So here's
[05:07] that data right here. It passed over
[05:09] twitter.com so we could go to X and
[05:11] scrape it. And then also passed over my
[05:13] profile name which I set up in airtop.
[05:15] I'll show you guys that later. But
[05:16] that's how you can access something like
[05:18] X or Instagram or whatever you want to
[05:20] go through that requires a login because
[05:23] you can set up that login once in airtop
[05:24] and then your agent and end can access
[05:27] that and do whatever you want. Anyways,
[05:29] from there it's going to do two main
[05:30] things which is set up a session and set
[05:32] up a window. And once we've done that,
[05:34] we get back both a session ID and a
[05:36] window ID. And right now I'm in my
[05:38] AirTopp dashboard. If I click on browser
[05:40] sessions, you can see all the previous
[05:42] sessions that I've had with different
[05:43] remote browsers. What we also get is a
[05:46] live URL. So this live view URL lets us
[05:49] click on it and we can go watch the
[05:51] browser agent actually interact with
[05:53] stuff. So that's what you guys saw me
[05:55] click on earlier in Slack. So all I'm
[05:56] doing here is I'm sending myself that
[05:59] URL. And then the last thing we have to
[06:02] do is we have to give back the session
[06:04] and window ID to the main agent. So we
[06:06] do that with the set node where we
[06:07] basically say okay here's the session ID
[06:09] and here's the window ID. All right so
[06:11] while editing this video I just realized
[06:12] there was something that I wanted to
[06:13] touch on in a little bit more detail
[06:15] which is basically like what is going on
[06:17] in the transfer of data between this
[06:19] tool to start the browser and then down
[06:21] here this actual workflow that starts
[06:22] the browser and sends us back that
[06:24] session and window ID. So what this tool
[06:26] does is it lets us call on a different
[06:28] NN workflow as a tool. And typically we
[06:31] would have something like this in a
[06:33] separate workflow that we would call on
[06:35] and we would do that by choosing from
[06:37] list and then we could just choose a
[06:39] workflow that we had done from list like
[06:40] let's say I had a tool right here to
[06:42] grab profiles. I could hook it up and
[06:44] then now data is being sent to that
[06:46] tool. So if you want to call on a tool
[06:48] that lives in the same workflow like we
[06:49] see here all you have to do is you have
[06:51] to do it by ID. So in your URL up here I
[06:54] think it's cut off for you guys. It'll
[06:56] be workflow slash and then a bunch of
[06:58] like capital letters, lowercase letters
[07:00] and numbers. You will basically just
[07:02] copy that and then you'll come back into
[07:03] this tool, change this to by ID, and
[07:06] then you'll basically just paste that
[07:07] right in there. And then you have the
[07:10] workflow inputs and profile name to
[07:12] actually map. So, just wanted to clear
[07:14] that up. Hopefully, it's not too
[07:15] confusing. You have the option to keep
[07:17] it in this workflow or you can move it
[07:18] into a separate workflow and call it
[07:20] from a list. But there will also be a
[07:21] setup guide kind of right over here that
[07:23] explains everything you need to do to
[07:24] connect yourself to this agent when you
[07:27] download the template. So let's get back
[07:29] to the
[07:30] video. Okay, cool. So that's the start
[07:32] browser tool. I'm going to go back into
[07:34] the execution which was our actual
[07:35] browser actions and we're back. So like
[07:38] I said, browser agent calls this tool.
[07:40] It starts the browser. We get session ID
[07:41] and window ID. And now the agent's able
[07:43] to figure out what do I have to do next.
[07:45] So in this example, what it did next was
[07:47] it typed. So it called its type tool.
[07:49] And what happens here is really, really
[07:51] simple. First of all, it sends over
[07:53] session ID and window ID, which are
[07:55] right up here. And this just says, okay,
[07:57] browser agent, this is the session and
[07:59] window that you're going to actually
[08:00] type in. And then we have to tell it
[08:03] basically, what are you going to type
[08:04] and where do you type? So, as you can
[08:05] see right here, the element description
[08:07] is the search box that says search X and
[08:10] the text is Google V3. And that's
[08:12] exactly what we saw it do in that little
[08:14] live window. And then this type tool
[08:16] responds to the main agent and says type
[08:18] operation completed. And then the agent
[08:20] realized, okay, now that we've made that
[08:22] search, I have to query the page to see
[08:24] what those results look like. So I
[08:25] called on this query tool. We do three
[08:28] things. Once again, we're sending over
[08:29] session ID, window ID, and then we're
[08:31] sending over a prompt, which is what do
[08:33] you actually extract from this page? And
[08:36] the prompt was what are the search
[08:37] results showing about Google V3? Please
[08:39] summarize the most relevant points and
[08:41] information. And then on the right hand
[08:43] side, this tool responds back to the
[08:45] main agent and says the search results
[08:47] for Google V3. It highlights several key
[08:49] points and and then it lists off all
[08:51] those points. And then finally, before
[08:53] it actually responds to the human with
[08:54] those answers, it just has to end the
[08:56] session. And that's really simple
[08:57] because all we have to send over is a
[08:59] session ID. All right, so that was one
[09:01] quick example. Let's just go through
[09:03] another example and we can see if it
[09:05] uses any different tools and how that
[09:06] all works. All right, so this time we're
[09:08] saying find me good deals on laptops
[09:10] from Best Buy. So, what I'm going to do
[09:12] once again is just kind of move this guy
[09:14] over so we can pull up our Slack so we
[09:16] can watch it happen live again. It's
[09:17] starting up that browser, which is
[09:19] actually calling that workflow below us
[09:20] that we just looked at. And what it's
[09:22] going to do is send us over that live
[09:23] link so that we can watch the agent take
[09:25] action. Okay, so our browser session has
[09:27] been started. We got a link and now
[09:29] we're going to load that up. We can see
[09:30] the agent right now is typing. So, we'll
[09:32] see if it's typing for laptops or
[09:34] whatever it does. It basically has full
[09:36] autonomy to use whatever tool it needs
[09:37] to do to get the job done.
[09:41] Okay, so we can see the mouse just
[09:42] clicked on the search bar. It typed in
[09:44] laptop deals and then it went ahead and
[09:46] hit enter. Okay, so the live view is a
[09:48] little bit behind, but it loaded up a
[09:49] new page and now we can see the agents
[09:50] using its click tool. So we'll have to
[09:52] take a look and see what it actually did
[09:54] and it's actually using the load URL
[09:56] tool. So we've got a couple new tools to
[09:57] look at. So it looks like it pulled up a
[09:59] page of 858 laptops and now it's quering
[10:02] it once again. Okay, there we go. So
[10:04] it's ending the session. The browser has
[10:05] been disconnected. So, let's close out
[10:07] and let's come over here and see what
[10:09] the agent came up with. All right, there
[10:11] we go. So, I found several good laptop
[10:13] deals currently available at Best Buy.
[10:15] Here are the most notable ones. So,
[10:16] we've got a Microsoft Surface laptop,
[10:18] latest model, which is 200 bucks off.
[10:21] It's highly rated. It has 16 gigs of
[10:23] memory, 512 gigs of storage, blah blah
[10:25] blah. We have a Samsung Galaxy that is
[10:28] 142 bucks off. And we also have a Lenovo
[10:30] Yoga, which is starting open box, 270
[10:33] bucks. So, cool. Now, what we're going
[10:35] to do is I want to look through the
[10:37] actual agent logs so that we can see
[10:39] what it did and why. So, I'm just going
[10:40] to click on the agent. I'm going to
[10:42] click on logs and let's take a look. So,
[10:44] the first thing that it did was
[10:45] obviously it started up the browser.
[10:46] Then it called its type tool and it says
[10:48] to type for laptop deals. So, that's
[10:50] exactly what we saw happen. Then it used
[10:52] its query tool and the prompt was what
[10:54] are some of the best laptop deals
[10:56] currently shown? Please list the prices.
[10:58] And then the query tool responded and
[11:00] said unable to satisfy object. the
[11:03] webpage content provided does not
[11:04] contain any specific information about
[11:06] laptop deals, prices or descriptions. So
[11:08] then what it did is it decided to click
[11:10] and it decided to click on the link that
[11:12] says laptops or laptop deals. So super
[11:15] cool. So it basically clicked on that
[11:16] link and it loaded up this new URL as
[11:18] you can see this one right here about
[11:20] laptops and then we go to the query tool
[11:22] once again to ask that same prompt which
[11:24] what are notable deals and then once we
[11:26] actually get that answer back right here
[11:28] from that query tool it knows to go
[11:30] ahead and end the session. So, let's
[11:32] take a quick look at what happens in the
[11:33] click and the load URL tool since we
[11:35] haven't looked at those yet. Real quick,
[11:36] off the bat, there is a native
[11:38] integration click tool right here for
[11:40] airtop. But what happened when I was
[11:42] using that is I kept getting these like
[11:44] timeouts. So, I was able to use the HTTP
[11:46] request to have more control over it.
[11:47] And now I don't run into that issue with
[11:48] timeouts. So, in the click one, we're
[11:50] sending over session ID, window ID, and
[11:53] then we're just saying what to click on.
[11:54] So, right here, it says link that says
[11:55] laptops or laptop deals. Oh, okay. And
[11:58] one thing I actually missed is that it
[12:00] didn't work. So that's why it had to go
[12:01] load a URL because right here we can see
[12:04] that it actually failed to click and
[12:05] probably because there wasn't actually a
[12:07] button that said one of these things. So
[12:09] then it said, "Okay, that didn't work.
[12:10] I'm going to just go load my own URL."
[12:12] And we loaded up this URL
[12:16] bestby.com/site/laptop/computers blah
[12:18] blah blah. And then because that worked,
[12:19] the agent was able to query through it.
[12:21] And then of course before it responded
[12:22] to us, it went ahead and ended that
[12:24] session. Okay. So what's special about
[12:26] browser automation is that it basically
[12:28] spins up a remote browser. So, it looks
[12:31] a lot more like a human's actually
[12:32] controlling stuff because it moves the
[12:33] mouse and it does all this stuff. And
[12:35] so, what I showed you guys with the demo
[12:36] with X is that I was already logged into
[12:38] my account. So, what you can do is when
[12:40] you come into Airtop, you'll click on
[12:42] profiles and then in an actual profile,
[12:44] which I just created, when you connect,
[12:46] it basically will let you enter in a
[12:48] website and you can log in with your
[12:49] credentials and it saves them to that
[12:51] profile. So, if you came in here and
[12:52] saved your credentials for Amazon X,
[12:54] Instagram, LinkedIn, whatever you wanted
[12:56] to, you could then connect and do things
[12:59] in a browser through an airtop agent. I
[13:01] would just strongly encourage you though
[13:02] to look into the policies for the
[13:04] different websites and providers because
[13:06] some of them are really strict on even
[13:08] browser automation bots. So, just be
[13:10] careful with that. But once you
[13:12] basically create all of those different
[13:13] credentials, this is the name of your
[13:15] profile and that's what I'm passing over
[13:17] when I start up the browser. So in here
[13:20] when you see I'm starting up the browser
[13:21] and I'm passing over a URL which is what
[13:23] URL to load in and also a profile name
[13:26] which in this case was Nate Herk because
[13:27] that's the one that I made right over
[13:28] here. But you don't necessarily need a
[13:31] profile name. You only need to provide
[13:32] this profile name if you want to access
[13:34] a site that has credentials or has to
[13:37] log in. So just as one final example
[13:39] just to show you guys, I'm going to
[13:40] completely remove the profile and it's
[13:42] there's going to be nothing being passed
[13:43] over and I'll show you that we're still
[13:44] able to browser automate. So, like this
[13:47] previous example right here with Best
[13:48] Buy, we didn't have to log in to do so.
[13:50] But just to show you guys that I'm not
[13:52] lying right here, we're just going to
[13:53] say find a Yeti water bottle on Google.
[13:56] It's going to go ahead and start a
[13:57] browser with no profile, no credentials
[13:59] saved. The browser just got started. So,
[14:01] let's load up that window. We can see
[14:03] that it's going to type. So, it's going
[14:04] to type in this Google search bar, Yeti
[14:06] water
[14:07] bottle. There we go. Yeti water bottle.
[14:10] Hit search. And now, it's going to use
[14:12] its query tool to scan these results.
[14:15] There we go. It's ending the session
[14:17] because we found everything we needed
[14:18] to. And then we will just basically see
[14:20] that it worked. And keep in mind, I'm
[14:23] not passing over any sort of profile
[14:25] name. So, you only need to do that if
[14:26] you're accessing a site where you
[14:28] actually need to log in. Okay. So,
[14:30] here's our results. They range from
[14:31] sizes 18 oz to 64 ouncez. Prices ranging
[14:34] from $20 to 65 bucks. Here are some
[14:36] places you can get them. Blah blah blah.
[14:38] All right. So, some final things to
[14:39] think about real quick. The reason I'm
[14:41] using a click https rather than the
[14:44] native airtop node for the click tool, I
[14:46] was running into some issues where it
[14:47] was timing out. So, the click tool does
[14:49] work, but for certain requests, it was
[14:51] just timing out on me. So, not sure if
[14:52] you guys will have a similar experience
[14:54] or not, but that's why I switched it
[14:55] out. And I'm sure you guys are probably
[14:57] wondering about like different use cases
[14:58] for this because I know it seems just
[15:00] kind of fun and flashy, but there
[15:01] definitely are good use cases for this.
[15:03] Like I said, I'd encourage you to go to
[15:05] Airtop and check out the NAN templates.
[15:07] There's a ton of cool stuff like ICP
[15:09] scoring, LinkedIn person ICP scoring,
[15:11] monitoring competitor price changes,
[15:13] monitoring job changes, all that kind of
[15:15] stuff. And remember, you can use code
[15:16] Nate half off for 50% off, 3 months.
[15:20] Okay. And finally, when you get in here
[15:21] and you need to set this up for
[15:23] yourself, what do you actually do? First
[15:25] of all, you'll have to connect a chat
[15:26] model. So, I'm using Open Router and I'm
[15:28] using Claude 3.5 Sonnet. I tested out
[15:30] GPT41. I tested out some other ones. I
[15:33] definitely found that 3.5 sonnet or the
[15:35] higher power claw models worked the
[15:37] best. So that's why I went with that
[15:38] here. I also gave it access to a think
[15:40] tool which is pretty cool because
[15:42] sometimes it would get stuck and it
[15:43] would come here and think about it.
[15:44] Obviously it's better when it doesn't
[15:46] have to use it but on some more complex
[15:47] things it may have to use a think tool.
[15:49] So it's good to have that there. And
[15:50] then of course you'll have to come in
[15:51] there and plug in your own airtop API
[15:53] key which is super simple because of a
[15:55] native node. You'd come in here create
[15:56] new credential and just plug in an API
[15:58] key. You could get that from airtop. If
[16:00] you go to your dashboard and you go to
[16:01] API keys right here and all you'd have
[16:03] to do is click on create new key and
[16:05] copy and paste it in. And finally, I'm
[16:07] sure you guys are wondering a little bit
[16:08] about the plans. So, you can start for
[16:10] free and get 5,000 credits which will
[16:12] last you quite a while. If I go to my
[16:13] billing, you can see that I've done
[16:15] about 2 hours of automation with this
[16:17] just testing out and I just finally
[16:19] passed over the 5,000 free limit. So, um
[16:22] if you go in here and you can get 30,000
[16:24] credits for $15 if you use my code, you
[16:26] can get 100,000 credits for only 45
[16:28] bucks if you use my code. And the other
[16:30] thing here is you have different amounts
[16:32] of simultaneous browsers. So you know
[16:34] how I said you start up a session and
[16:36] then the agent uses its tools and then
[16:37] it ends the session. How that works is
[16:39] back here you have browser sessions and
[16:41] this keeps track of all of the different
[16:43] sessions you have active. So if you're
[16:44] on the free plan you can only do one
[16:46] active at a time. If you're on the
[16:47] starter plan you can have three running
[16:48] at a time but that's it. And that's why
[16:49] you have to make sure at the end that
[16:51] you actually terminate them using this
[16:52] tool right here, end session. Otherwise
[16:54] they'll just keep being active forever.
[16:57] Well, I'm sure they'll time out
[16:58] eventually, but they'll stay active for
[17:00] a while. And so, really, you should get
[17:02] in here and you should customize the
[17:03] prompt a little bit and play with the
[17:04] different tools to fit your use case.
[17:06] But this is a really good skeleton and a
[17:07] really good place to get you started
[17:09] rather than starting from scratch. And
[17:10] you can download this entire template
[17:12] for free by joining my free school
[17:13] community. Link for that is down in the
[17:14] description. When you download that,
[17:16] there'll be a setup guide somewhere
[17:17] right over here that will basically tell
[17:18] you what you need to plug in and all of
[17:20] the different API keys that you need to
[17:21] connect. You'll also need to, of course,
[17:23] connect something like Slack if you want
[17:24] to grab those live URLs. But anyways,
[17:27] that's going to do it for this video. If
[17:28] you guys enjoyed this style video, then
[17:30] definitely check out my paid community.
[17:31] The link for that is down in the
[17:32] description as well. It's a great
[17:34] community filled with like-minded people
[17:35] building with NN every day, sharing
[17:37] their challenges, sharing their wins,
[17:39] and it's a really cool place to be.
[17:40] We've got two full courses, one called
[17:42] Agent Zero on the foundations of AI
[17:44] automation, and then a course called 10
[17:45] hours to 10 seconds where you learn how
[17:47] to identify, design, and build
[17:48] time-saving automations. So, I'd love to
[17:50] see you guys in those calls or in the
[17:52] community. But if you enjoyed the video
[17:53] and you learned something new, please
[17:55] give it a like. definitely helps me out
[17:56] a ton and I'll see you guys in the next
[17:57] one. Thanks everyone.